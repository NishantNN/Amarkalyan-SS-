<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Amarkalyan Secondary School</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Free HTML Templates" name="keywords">
    <meta content="Free HTML Templates" name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@500;600;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet"> 

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
    <link href="css/mediapage.css" rel="stylesheet">
    <style>
        h3 {
    text-align: center;
    font-size: 24px;
    color: #333;
  }
.gallery {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 15px;
    max-width: 900px;
    margin: 20px auto;
  }

  .gallery-item {
    background: white;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    text-align: center;
    padding: 10px;
    position: relative;
  }

  .gallery-item img {
    width: 100%;
    height: auto;
    aspect-ratio: 4 / 3;
    object-fit: cover;
    transition: transform 0.3s ease, z-index 0.3s ease;
  }

  .gallery-item:hover img {
    transform: scale(1.1); /* Slightly enlarges the image */
    z-index: 10; /* Brings the image on top of the others */
  }

  .description {
    padding: 10px;
    font-size: 14px;
    color: #333;
  }

  .pagination {
    text-align: center;
    margin-top: 20px;
  }

  .pagination button {
    margin: 5px;
    padding: 8px 12px;
    font-size: 16px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
  }

  .pagination button:disabled {
    background-color: #ccc;
    cursor: not-allowed;
  }

  /* Modal Styles */
  .modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    justify-content: center;
    align-items: center;
    z-index: 1000;
    padding: 20px;
    opacity: 0;
    transition: opacity 0.3s ease-in-out;
  }

  .modal-content {
    position: relative;
    width: 80vw;
    height: 60vh;
    max-width: 900px;
    max-height: 600px;
    background: #000; /* Black background for empty space */
    border-radius: 8px;
    overflow: hidden;
    transition: transform 0.3s ease-in-out;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .modal-content img {
    width: auto;
    height: 100%;
    max-width: 100%;
    object-fit: contain; /* Keeps the original size without cropping */
    transition: opacity 0.3s ease-in-out;
  }

  .close-btn, .nav-btn {
    position: absolute;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    font-size: 30px;
    padding: 12px;
    border: none;
    cursor: pointer;
    border-radius: 50%;
  }

  .close-btn {
    top: 10px;
    right: 10px;
  }

  .close-btn:hover, .nav-btn:hover {
    background: rgba(0, 0, 0, 0.7);
  }

  .nav-btn {
    top: 50%;
    transform: translateY(-50%);
  }

  .nav-btn.left {
    left: 10px;
  }

  .nav-btn.right {
    right: 10px;
  }

  /* Responsive Styles */
  @media (max-width: 768px) {
    .gallery {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 480px) {
    .gallery {
      grid-template-columns: 1fr;
    }
  }
    </style>
</head>

<body>
    <!-- Topbar Start -->
    <div class="container-fluid bg-dark">
        <div class="row py-2 px-lg-5">
            <div class="col-lg-6 text-center text-lg-left mb-2 mb-lg-0">
                <div class="d-inline-flex align-items-center text-white">
                    <small><i class="fa fa-phone-alt mr-2"></i>+977 027-411004 | +977 9842652115</small>
                    <small class="px-3">|</small>
                    <small><i class="fa fa-envelope mr-2"></i>amarkalyan004@gmail.com</small>
                </div>
            </div>
            <div class="col-lg-6 text-center text-lg-right">
                <div class="d-inline-flex align-items-center">
                    <a class="text-white px-2" href="https://www.facebook.com/amarkalyansecondary"target="_blank">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a class="text-white pl-2" href="https://www.youtube.com/@amarkalyansecondaryschool1429/featured"target="_blank">
                        <i class="fab fa-youtube"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
    <!-- Topbar End -->

<!-- Moving Notice Banner Start -->
<!-- Moving Notice Banner (Firebase) -->
<div class="_amarkalyanNoticeBanner_32sd9gfh bg-primary text-white py-2">
  <div class="container-fluid">
    <div class="position-relative overflow-hidden" style="height: 30px;">
      <div id="notice-marquee" class="position-absolute w-100" style="white-space: nowrap; animation: slideNotice 20s linear infinite;">
        <!-- Firebase Notices Will Be Injected Here -->
      </div>
    </div>
  </div>
</div>
<!-- Moving Notice Banner End -->
<style>
  @keyframes slideNotice {
      0% { transform: translateX(100%); }
      100% { transform: translateX(-100%); }
  }
  
  ._amarkalyanNoticeBanner_32sd9gfh span {
      font-weight: 600;
      font-size: 16px;
  }
  
  @media (max-width: 576px) {
      ._amarkalyanNoticeBanner_32sd9gfh span {
          font-size: 14px;
      }
  }
  .navbar-brand img{
        width: 100px;
    }
  </style>
    <!-- Navbar Start -->
    <div class="container-fluid p-0">
        <nav class="navbar navbar-expand-lg bg-white navbar-light py-3 py-lg-0 px-lg-5">
            <a href="index.html" class="navbar-brand ml-lg-3">
              <img src="/img/about.png" alt="school logo">
                <!-- <h1 class="m-0 text-uppercase text-primary"><i class="fa fa-book-reader mr-3"></i>Amarkalyan</h1> -->
            </a>
            <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-between px-lg-3" id="navbarCollapse">
                <div class="navbar-nav mx-auto py-0">
                    <a href="index.html" class="nav-item nav-link">Home</a>
                    <a href="gallery.html" class="nav-item nav-link active">Gallery</a>
                    <a href="staff.html" class="nav-item nav-link">Teachers/Staff</a>
                    <a href="contact.html" class="nav-item nav-link ">Contact</a>
                    <a href="notices.html" class="nav-item nav-link ">Notices</a>
                </div>
            </div>
        </nav>
    </div>
    <!-- Navbar End -->


    <!-- Header Start -->
    <div class="jumbotron jumbotron-fluid page-header position-relative overlay-bottom" style="margin-bottom: 90px;">
        <div class="container text-center py-5">
            <h1 class="text-white display-1">Gallery</h1>
            <div class="d-inline-flex text-white mb-5">
                <p class="m-0 text-uppercase"><a class="text-white" href="index.html">Home</a></p>
                <i class="fa fa-angle-double-right pt-1 px-3"></i>
                <p class="m-0 text-uppercase">Gallery</p>
            </div>
        </div>
    </div>
    <!-- Header End -->

    <!-- gallery start-->
    <h3>Media Gallery</h3>
    <div id="gallery" class="gallery"></div>
  
    <div class="pagination" id="paginationControls" style="display: flex; justify-content: center; align-items: center; flex-wrap: wrap; gap: 10px; margin-top: 20px;"></div>
  
    <!-- Modal for Full-Screen Image Navigation -->
    <div id="imageModal" class="modal">
      <div class="modal-content">
        <button class="close-btn" id="closeModal">
          <i class="fas fa-times"></i> <!-- FontAwesome close icon -->
        </button>
        <img id="modalImage" src="" alt="Full-Screen Image">
        <button id="prevImage" class="nav-btn left">
          <i class="fas fa-chevron-left"></i> <!-- FontAwesome left arrow -->
        </button>
        <button id="nextImage" class="nav-btn right">
          <i class="fas fa-chevron-right"></i> <!-- FontAwesome right arrow -->
        </button>
      </div>
    </div>
  


    <!-- Footer Start -->
    <div class="container-fluid position-relative overlay-top bg-dark text-white-50 py-5" style="margin-top: 90px;">
        <div class="container mt-5 pt-5">
            <div class="row">
                <div class="col-md-6 mb-5">
                    <a href="index.html" class="navbar-brand">
                        <h1 class="mt-n2 text-uppercase text-white"><i class="fa fa-book-reader mr-3"></i>Amarkalyan</h1>
                    </a>
                    <p class="m-0">Located in the heart of Maijogmai, amarkalyan aims to provide world class education to the students at the most affordable cost. We believe no one should 
                        be prevented from the light of education. </p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4 mb-5">
                    <h3 class="text-white mb-4">Get In Touch</h3>
                    <p> <a href="https://maps.app.goo.gl/25mBPGDGYJqEUUNU8"><i class="fa fa-map-marker-alt mr-2"></i></a> X24C+RR9, Main Road, Naya Bazar 57300</p>
                    <p><i class="fa fa-phone-alt mr-2"></i>+977 027-411004</p>
                    <p><i class="fa fa-envelope mr-2"></i>amarkalyan004@gmail.com</p>
                    <div class="d-flex justify-content-start mt-4">
                        <a class="text-white mr-4" href="https://www.facebook.com/amarkalyansecondary"target="_blank"><i class="fab fa-2x fa-facebook-f"></i></a>
                        <a class="text-white mr-4" href="https://www.youtube.com/@amarkalyansecondaryschool1429/featured"target="_blank"><i class="fab fa-2x fa-youtube"></i></a>
                    </div>
                </div>
                <div class="col-md-4 mb-5">
                    <h3 class="text-white mb-4">Our Courses</h3>
                    <div class="d-flex flex-column justify-content-start">
                        <a class="text-white-50 mb-2" ><i class="fa fa-angle-right mr-2"></i>Kindergarten</a>
                        <a class="text-white-50 mb-2" ><i class="fa fa-angle-right mr-2"></i>Grade 1 to 10</a>
                        <a class="text-white-50 mb-2" ><i class="fa fa-angle-right mr-2"></i>Science (+2)</a>
                        <a class="text-white-50 mb-2" ><i class="fa fa-angle-right mr-2"></i>Management (+2)</a>
                        <a class="text-white-50 mb-2" ><i class="fa fa-angle-right mr-2"></i>Humanities (+2)</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid bg-dark text-white-50 border-top py-4" style="border-color: rgba(256, 256, 256, .1) !important;">
        <div class="container">
            <div class="row">
                <div class="col-md-6 text-center text-md-left mb-3 mb-md-0">
                    <p class="m-0"> Shree Amarkalyan Model Secondary School </p>
                </div>
                <div class="col-md-6 text-center text-md-right">
                    <p class="m-0">Maintained by <a class="text-white" href="https://www.nishantapoudel.com.np" target="_blank">Nishanta Poudel </a>
                    </p>
                </div>
            </div>
        </div>
    </div>
    <!-- Footer End -->


    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary rounded-0 btn-lg-square back-to-top"><i class="fa fa-angle-double-up"></i></a>


    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/counterup/counterup.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>
    <!-- <script src="js/mediapage.js" type="module"></script> -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-app.js";
        import { getDatabase, ref, get } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-database.js";
      
        const firebaseConfig = {
          apiKey: "AIzaSyDOskGbmFVPlHml61_SeUxNSHPDby5wUGc",
          authDomain: "amarkalyan-admin.firebaseapp.com",
          databaseURL: "https://amarkalyan-admin-default-rtdb.firebaseio.com",
          projectId: "amarkalyan-admin",
          storageBucket: "amarkalyan-admin.appspot.com",
          messagingSenderId: "1040534177674",
          appId: "1:1040534177674:web:51b1f85fd85e33a53daa73"
        };
      
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);
        const imagesRef = ref(db, "gallery");
        const bannerRef = ref(db, "banner_notice");
      
        let allImages = [];
        let currentPage = 1;
        const imagesPerPage = 12;
        let currentImageIndex = -1;
      
        function displayImages() {
          get(imagesRef).then((snapshot) => {
            if (!snapshot.exists()) return;
            allImages = Object.values(snapshot.val()).sort((a, b) => b.Timestamp - a.Timestamp);
            renderPage();
            renderPagination();
          });
        }
      
        function renderPage() {
          const gallery = document.getElementById("gallery");
          gallery.innerHTML = "";
      
          const start = (currentPage - 1) * imagesPerPage;
          const paginatedImages = allImages.slice(start, start + imagesPerPage);
      
          paginatedImages.forEach((image, index) => {
            const item = document.createElement("div");
            item.classList.add("gallery-item");
      
            const img = document.createElement("img");
            img.src = image.ImageUrl;
            img.onclick = () => openModal(start + index);
      
            const desc = document.createElement("div");
            desc.classList.add("description");
            desc.textContent = image.Description;
      
            item.appendChild(img);
            item.appendChild(desc);
            gallery.appendChild(item);
          });
        }
      
        function renderPagination() {
          const pagination = document.getElementById("paginationControls");
          pagination.innerHTML = "";
      
          const totalPages = Math.ceil(allImages.length / imagesPerPage);
      
          const prevBtn = document.createElement("button");
          prevBtn.textContent = "←";
          prevBtn.disabled = currentPage === 1;
          prevBtn.onclick = () => {
            currentPage--;
            renderPage();
            renderPagination();
          };
          pagination.appendChild(prevBtn);
      
          for (let i = 1; i <= totalPages; i++) {
            const pageBtn = document.createElement("button");
            pageBtn.textContent = i;
            pageBtn.className = "page-btn";
            if (i === currentPage) {
              pageBtn.style.backgroundColor = "#0056b3";
            }
            pageBtn.onclick = () => {
              currentPage = i;
              renderPage();
              renderPagination();
            };
            pagination.appendChild(pageBtn);
          }
      
          const nextBtn = document.createElement("button");
          nextBtn.textContent = "→";
          nextBtn.disabled = currentPage === totalPages;
          nextBtn.onclick = () => {
            currentPage++;
            renderPage();
            renderPagination();
          };
          pagination.appendChild(nextBtn);
        }
      
        // Modal logic
        function openModal(index) {
          currentImageIndex = index;
          const modal = document.getElementById("imageModal");
          const modalImage = document.getElementById("modalImage");
          modal.style.display = "flex";
          modal.style.opacity = 1;
          modalImage.src = allImages[currentImageIndex].ImageUrl;
        }
      
        document.getElementById("closeModal").addEventListener("click", () => {
          const modal = document.getElementById("imageModal");
          modal.style.opacity = 0;
          setTimeout(() => modal.style.display = "none", 300);
        });
      
        document.getElementById("prevImage").addEventListener("click", () => {
          if (currentImageIndex > 0) {
            currentImageIndex--;
            document.getElementById("modalImage").src = allImages[currentImageIndex].ImageUrl;
          }
        });
      
        document.getElementById("nextImage").addEventListener("click", () => {
          if (currentImageIndex < allImages.length - 1) {
            currentImageIndex++;
            document.getElementById("modalImage").src = allImages[currentImageIndex].ImageUrl;
          }
        });
      
        displayImages();
         // Function to display the banner
         function displayBanner() {
          // Wait until the DOM is fully loaded before executing
          document.addEventListener("DOMContentLoaded", () => {
            const marqueeContainer = document.getElementById("notice-marquee");
      
            if (!marqueeContainer) {
              console.error("Element with ID 'notice-marquee' not found.");
              return;
            }
      
            // Clear any existing content
            marqueeContainer.innerHTML = "";
      
            // Fetch the banner data from Firebase
            get(bannerRef)
              .then((snapshot) => {
                if (snapshot.exists()) {
                  const data = snapshot.val();
                  const bannerTitle = data.Title;
                  const bannerDesc = data.Description;
      
                  // Create a new span element for the banner notice
                  const bannerElement = document.createElement("span");
                  bannerElement.className = "banner-item";
      
                  // Add the title and description in the span
                  bannerElement.innerHTML = `<strong>${bannerTitle}:</strong> ${bannerDesc}`;
      
                  // Append the banner element to the marquee container
                  marqueeContainer.appendChild(bannerElement);
                } else {
                  // Display message if no banner is available in Firebase
                  marqueeContainer.innerHTML = "<p>No banner notice uploaded.</p>";
                }
              })
              .catch((error) => {
                console.error("Error fetching banner notice:", error);
                marqueeContainer.innerHTML = "<p>Failed to load banner notice.</p>";
              });
          });
        }
      
        // Call the displayBanner function to show the banner on page load
        displayBanner();
      </script>
      
      <style>
        .pagination button {
          padding: 8px 12px;
          font-size: 16px;
          background-color: #007bff;
          color: white;
          border: none;
          border-radius: 6px;
          cursor: pointer;
          transition: background-color 0.3s ease;
        }
      
        .pagination button:disabled {
          background-color: #ccc;
          cursor: not-allowed;
        }
      
        .pagination button:hover:not(:disabled) {
          background-color: #0056b3;
        }
      
        .pagination .page-btn {
          margin: 0 4px;
          border-radius: 50%;
          width: 38px;
          height: 38px;
          font-weight: bold;
        }
      </style>
</body>

</html>